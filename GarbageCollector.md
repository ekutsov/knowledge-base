# GarbageCollector

Сборщик мусора в .NET Framework управляет памятью для управляемых приложений. Он периодически проверяет наличие в памяти объектов, которые больше не используются приложением, и освобождает память, занимаемую этими объектами. Сборщик мусора использует концепцию, называемую поколениями, для управления памятью. Объекты группируются в различные поколения в зависимости от того, как долго они находились в памяти. В сборщике мусора .NET существует три поколения:



**Поколение 0**: Это самое молодое поколение, которое содержит недавно созданные объекты. Сборщик мусора часто проверяет это поколение на наличие подходящих для сбора объектов, поскольку они, скорее всего, недолговечны и больше не используются.

**Поколение 1**: Это поколение содержит объекты, которые пережили одну сборку мусора и считаются немного старше. Сборщик мусора проверяет это поколение реже, чем поколение 0.

**Поколение 2**: Это самое старое поколение, содержащее объекты, которые пережили несколько сборов мусора. Эти объекты, как правило, живут дольше и реже собираются. Сборщик мусора проверяет это поколение нечасто.

Сборщик мусора использует этот подход к поколениям для оптимизации процесса сбора, поскольку эффективнее чаще проверять самое молодое поколение, так как в нем, скорее всего, будет больше объектов, подходящих для сбора.

Стоит отметить, что сборщик мусора управляет не только кучей, но и кучей больших объектов (Large Object Heap, LOH), которая используется для объектов, размер которых превышает определенный порог (по умолчанию 85 КБ).


Вот несколько вопросов для интервью по этой теме с примерами ответов:

- **В: Как сборщик мусора определяет, какие объекты нужно собрать?**<br>
  О: Сборщик мусора использует алгоритм mark-and-sweep, чтобы определить, какие объекты больше не используются приложением. Он начинает с определения набора "корневых" объектов, таких как статические переменные и ссылки на стеке, а затем рекурсивно "помечает" все достижимые объекты из этих корней. Любые объекты, которые не помечены, считаются пригодными для сбора.

- **В: Что такое управляемая куча?**<br>
  О: Управляемая куча - это область памяти, в которой сборщик мусора выделяет память для управляемых объектов. Когда приложение создает новый объект, среда выполнения выделяет память для этого объекта в управляемой куче. Сборщик мусора отвечает за управление этой кучей, включая выделение и освобождение памяти по мере необходимости.

- **В: Что такое финализатор в .NET?**<br>
  О: Финализатор - это метод, который вызывается сборщиком мусора непосредственно перед тем, как объект будет собран. Финализаторы используются для выполнения задач очистки, которые не являются критическими для работы приложения, например, для освобождения неуправляемых ресурсов. Финализатор определяется путем реализации в классе метода protected override void Finalize().

- **В: В чем разница между управляемым и неуправляемым ресурсом?**<br>
  О: Управляемые ресурсы - это объекты, которые управляются сборщиком мусора, например, объекты на управляемой куче. Неуправляемые ресурсы - это ресурсы, которые не управляются сборщиком мусора, например, дескрипторы файлов или соединения баз данных. Приложение несет ответственность за явное освобождение неуправляемых ресурсов, когда они больше не нужны, обычно в финализаторе.
